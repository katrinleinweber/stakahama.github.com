<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Files, buffers, windows, and frames</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="Files, buffers, windows, and frames"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2012-11-17T20:03+0100"/>
<meta name="author" content="Satoshi Takahama"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style><link rel="stylesheet" href="css/worg-zenburn_modified.css" type="text/css"/>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Files, buffers, windows, and frames</h1>

<p>I use <code>ido-mode</code>, <code>dired</code>, <code>ibuffer</code>, and <code>elscreen</code>, with a
combination of <code>eshell</code> to manage my work.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Files and buffers</a>
<ul>
<li><a href="#sec-1-1">Basic commands</a></li>
<li><a href="#sec-1-2">Scratch buffers</a></li>
<li><a href="#sec-1-3">Navigating lists (files and buffers) in ido-mode</a></li>
<li><a href="#sec-1-4">File management with dired</a>
<ul>
<li><a href="#sec-1-4-1">Uses for dired:</a></li>
<li><a href="#sec-1-4-2">Keybindings</a></li>
<li><a href="#sec-1-4-3">Customizations</a></li>
<li><a href="#sec-1-4-4">Sorting</a></li>
<li><a href="#sec-1-4-5">For ibuffer</a></li>
</ul>
</li>
<li><a href="#sec-1-5">Recursive find in emacs lisp</a></li>
<li><a href="#sec-1-6">Buffer management with ibuffer and tabbar</a>
<ul>
<li><a href="#sec-1-6-1">ibuffer</a></li>
<li><a href="#sec-1-6-2">tabbar</a></li>
</ul>
</li>
<li><a href="#sec-1-7">Opening buffers with the same name</a></li>
</ul>
</li>
<li><a href="#sec-2">Managing windows and frames</a>
<ul>
<li><a href="#sec-2-1">Full screen option</a></li>
<li><a href="#sec-2-2">Window/frame commands</a>
<ul>
<li><a href="#sec-2-2-1">Basic</a></li>
<li><a href="#sec-2-2-2">Other window/frame commands</a></li>
<li><a href="#sec-2-2-3">Listing windows/frames</a></li>
<li><a href="#sec-2-2-4">Switching among windows/frames</a></li>
</ul>
</li>
<li><a href="#sec-2-3">Packages to manage layouts</a>
<ul>
<li><a href="#sec-2-3-1">elscreen</a></li>
<li><a href="#sec-2-3-2">winner-mode</a></li>
<li><a href="#sec-2-3-3">registers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Files and buffers</h2>
<div class="outline-text-2" id="text-1">


<ul>
<li>buffers are units which contain contents of a file on the hard disk,
  or content you have not yet saved to the hard disk,
</li>
<li>windows are viewing ports for buffers,
</li>
<li>frames ("windows" for GUI users) can contain one or several windows,
  each of which will contain a buffer.
</li>
</ul>



</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">Basic commands</h3>
<div class="outline-text-3" id="text-1-1">


<p>
open file, open buffer, etc.
</p>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">Scratch buffers</h3>
<div class="outline-text-3" id="text-1-2">


<p>
Jot down notes in a new buffer: <code>C-x b</code> and type 'new' or 'tmp', edit, save if desired. Major modes can be enabled in these 'temporary buffers' also.
(Yegge effective emacs)
</p>
</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3">Navigating lists (files and buffers) in ido-mode</h3>
<div class="outline-text-3" id="text-1-3">


<p>
I was turned onto ido-mode by Stuart Halloway's <a href="http://www.vimeo.com/1013263">screencast</a> on the its
universality. Turn on ido with
</p>


<pre class="src src-elisp">(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">ido</span>)
(ido-mode t)
</pre>


<p>
The minibuffer seems busy at first, but will soon make
sense. Optionally set <code>(setq ido-enable-flex-matching t)</code> for more
powerful matching (e.g., "reppdf" will match "report.pdf").
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keybinding</th><th scope="col" class="left">ido elisp function</th><th scope="col" class="left">description</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>TAB</code></td><td class="left"><code>ido-complete</code></td><td class="left">completion</td></tr>
<tr><td class="left"><code>RET</code></td><td class="left"></td><td class="left">select</td></tr>
<tr><td class="left"><code>C-f</code></td><td class="left"><code>ido-fallback-command</code></td><td class="left">exit ido-mode</td></tr>
<tr><td class="left"><code>C-b</code></td><td class="left"><code>ido-enter-buffer</code></td><td class="left">search for buffers</td></tr>
<tr><td class="left"><code>C-d</code></td><td class="left"><code>ido-enter-dired</code></td><td class="left">enter dired query</td></tr>
<tr><td class="left"><code>C-e</code></td><td class="left"><code>ido-edit-input</code></td><td class="left">edit matched text</td></tr>
<tr><td class="left"><code>C-j</code></td><td class="left"><code>ido-select-text</code></td><td class="left">commit to non-matching entry</td></tr>
<tr><td class="left"><code>C-s</code></td><td class="left"><code>ido-next-match</code></td><td class="left">cycle forward</td></tr>
<tr><td class="left"><code>C-r</code></td><td class="left"><code>ido-prev-match</code></td><td class="left">cycle backward</td></tr>
<tr><td class="left"><code>C-k</code></td><td class="left"></td><td class="left">kill file or buffer at head</td></tr>
</tbody>
</table>


<p>
In most cases I type <code>C-x f</code> or <code>C-x b</code> and a few letters in the name,
and cycle through the partially-matched names of files or buffers with
<code>C-s</code> and <code>C-r</code> or <code>tab</code> to complete; <code>RET</code> to select.
</p>
<p>
However, ido is too powerful - it remembers your past directories and
files you've opened (you can mistakenly open and edit a file in another
directory that you previously opened). To turn it off:
</p>


<pre class="src src-emacs-lisp">(custom-set-variables
 '(ido-enable-flex-matching t)
 '(ido-enable-last-directory-history nil)
 '(ido-max-work-directory-list 0)
 '(ido-max-work-file-list 0)
 '(ido-record-commands nil)
 '(ido-save-directory-list-file nil))
</pre>

<p>
(also delete <code>.ido.last</code> in home directory (&tilde;/) if it has already
been generated.)
</p>
</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4">File management with dired</h3>
<div class="outline-text-3" id="text-1-4">


<p>
(See also <code>nav-mode</code> for alternative to be used in different context.)
Invoke with <code>C-d</code> from ido minibuffer or <code>C-x d</code> if not in ido minibuffer.
</p>

</div>

<div id="outline-container-1-4-1" class="outline-4">
<h4 id="sec-1-4-1">Uses for dired:</h4>
<div class="outline-text-4" id="text-1-4-1">

<ul>
<li>Browsing through a long list of files in the
  directory (not too different from <code>ls -lah</code>).
</li>
<li>For directories that contain many files (<i>n</i> &gt; ??), ido-mode will not
  function. 
</li>
<li><code>dired-mode</code> useful for deleteing/renaming files and applying
  shell-commands to them (e.g., <code>open</code> or <code>gnome-open</code>, <code>wc -l</code>).
</li>
<li>Dired mode functions also useful for writing Emacs Lisp shell scripts.
</li>
</ul>


</div>

</div>

<div id="outline-container-1-4-2" class="outline-4">
<h4 id="sec-1-4-2">Keybindings</h4>
<div class="outline-text-4" id="text-1-4-2">

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keybinding</th><th scope="col" class="left">dired elisp funciton</th><th scope="col" class="left">description</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>g</code></td><td class="left"><code>revert-buffer</code></td><td class="left">update dir listing</td></tr>
<tr><td class="left"><code>m</code></td><td class="left"><code>dired-mark</code></td><td class="left">mark a file</td></tr>
<tr><td class="left"><code>u</code></td><td class="left"><code>dired-unmark</code></td><td class="left">unmark file</td></tr>
<tr><td class="left"><code>U</code></td><td class="left"><code>dired-unmark-all-marks</code></td><td class="left">unmark all</td></tr>
<tr><td class="left"><code>%m</code></td><td class="left"><code>(prefixed) dired-mark</code></td><td class="left">mark by regex</td></tr>
<tr><td class="left"><code>+</code></td><td class="left"><code>dired-create-directory</code></td><td class="left">create dir</td></tr>
<tr><td class="left"><code>R</code></td><td class="left"><code>dired-do-rename</code></td><td class="left">rename file</td></tr>
<tr><td class="left"><code>C</code></td><td class="left"><code>dired-copy-file</code></td><td class="left">copy file</td></tr>
<tr><td class="left"><code>D</code></td><td class="left"><code>dired-do-delete</code></td><td class="left">delete file</td></tr>
<tr><td class="left"><code>Z</code></td><td class="left"><code>dired-do-compress</code></td><td class="left">compress/decompress file</td></tr>
<tr><td class="left"><code>!</code></td><td class="left"><code>dired-shell-command</code></td><td class="left">shell-command (e.g., open)</td></tr>
<tr><td class="left"><code>&amp;</code></td><td class="left"><code>dired-do-async-shell-command</code></td><td class="left">shell-command asynchronous</td></tr>
<tr><td class="left"><code>M</code></td><td class="left"><code>dired-do-chmod</code></td><td class="left">chmod</td></tr>
</tbody>
</table>


<p>
Can use <code>m</code> to mark file(s), then apply <code>R</code>, <code>C</code>, <code>D</code>, etc.
</p>
<p>
<a href="http://xahlee.org/emacs/file_management.html">http://xahlee.org/emacs/file_management.html</a>
</p>
</div>

</div>

<div id="outline-container-1-4-3" class="outline-4">
<h4 id="sec-1-4-3">Customizations</h4>
<div class="outline-text-4" id="text-1-4-3">





<pre class="src src-emacs-lisp">(put 'dired-find-alternate-file 'disabled nil)
</pre>


</div>

</div>

<div id="outline-container-1-4-4" class="outline-4">
<h4 id="sec-1-4-4">Sorting</h4>
<div class="outline-text-4" id="text-1-4-4">





<pre class="src src-emacs-lisp">(setq dired-listing-switches <span style="font-style: italic;">"-alhF"</span>)
</pre>

<p>
and add <code>X</code> to sort by extension
</p>
<p>
However, OS X's <code>ls</code> doesn't allow to sort by <code>X</code>. To allow sorting across platforms:
</p>


<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">when</span> (or (eq system-type 'darwin))
  (<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">ls-lisp</span>)
  (setq ls-lisp-use-insert-directory-program nil))
</pre>


</div>

</div>

<div id="outline-container-1-4-5" class="outline-4">
<h4 id="sec-1-4-5">For ibuffer</h4>
<div class="outline-text-4" id="text-1-4-5">




<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">ensure-buffer-name-ends-in-slash</span> ()
  <span style="font-style: italic;">"change buffer name to end with slash</span>
<span style="font-style: italic;">   from stackoverflow.com"</span>
  (<span style="font-weight: bold;">let</span> ((name (buffer-name)))
    (<span style="font-weight: bold;">if</span> (not (string-match <span style="font-style: italic;">"/$"</span> name))
        (rename-buffer (concat name <span style="font-style: italic;">"/"</span>) t))))
(add-hook 'dired-mode-hook 'ensure-buffer-name-ends-in-slash)
</pre>


</div>
</div>

</div>

<div id="outline-container-1-5" class="outline-3">
<h3 id="sec-1-5">Recursive find in emacs lisp</h3>
<div class="outline-text-3" id="text-1-5">


<p>
While it seems that there are no functions available in emacs to do a
'nix-like <code>find</code> operation, a few actually exist in the <code>find-lisp</code>
library.
</p>



<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">find-lisp</span>)
</pre>


<p>
The most useful functions I find are 
</p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">function</th><th scope="col" class="left">interactive?</th><th scope="col" class="left">use in</th><th scope="col" class="left">output format</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>find-lisp-find-dired</code></td><td class="left">yes</td><td class="left">interactive use</td><td class="left">list</td></tr>
<tr><td class="left"><code>find-lisp-find-files</code></td><td class="left">no</td><td class="left">emacs-lisp program</td><td class="left">dired buffer</td></tr>
</tbody>
</table>

Both accept arguments of <code>DIR</code> and <code>REGEXP</code>.

<p>
Two additional interactive functions from this library are
<code>find-lisp-find-dired-subdirectories</code> (list all subdirectories of
argument <code>DIR</code>) and <code>find-lisp-find-dired-filters</code> (set default
<code>REGEXP</code> to be used by <code>find-lisp-find-dired-internal</code>, which is not
interactive). I have never used the latter function.
</p>
</div>

</div>

<div id="outline-container-1-6" class="outline-3">
<h3 id="sec-1-6">Buffer management with ibuffer and tabbar</h3>
<div class="outline-text-3" id="text-1-6">



</div>

<div id="outline-container-1-6-1" class="outline-4">
<h4 id="sec-1-6-1">ibuffer</h4>
<div class="outline-text-4" id="text-1-6-1">


<p>
Though I usually use ido-mode to cycle through buffers, I occasionally
use ibuffer to see what buffers I have open, and close ones I am no
longer using.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keybinding</th><th scope="col" class="left">description</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>m</code></td><td class="left">mark buffer</td></tr>
<tr><td class="left"><code>u</code></td><td class="left">unmark buffer</td></tr>
<tr><td class="left"><code>*u</code></td><td class="left">mark unsaved buffers</td></tr>
<tr><td class="left"><code>S</code></td><td class="left">save marked buffer</td></tr>
<tr><td class="left"><code>D</code></td><td class="left">close marked buffers</td></tr>
<tr><td class="left"><code>**</code></td><td class="left">unmark all</td></tr>
<tr><td class="left"><code>%m</code></td><td class="left">mark by mode name</td></tr>
<tr><td class="left"><code>%f</code></td><td class="left">mark by file path</td></tr>
</tbody>
</table>


<p>
<a href="http://xahlee.org/emacs/effective_emacs.html">http://xahlee.org/emacs/effective_emacs.html</a>
</p>
<p>
sorting:
</p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keys</th><th scope="col" class="left">description</th></tr>
</thead>
<tbody>
<tr><td class="left">&lt;code&gt;,&lt;/code&gt;</td><td class="left">Rotate between the various sorting modes.</td></tr>
<tr><td class="left"><code>s i</code></td><td class="left">Reverse the current sorting order.</td></tr>
<tr><td class="left"><code>s a</code></td><td class="left">Sort the buffers lexicographically.</td></tr>
<tr><td class="left"><code>s f</code></td><td class="left">Sort the buffers by the file name.</td></tr>
<tr><td class="left"><code>s v</code></td><td class="left">Sort the buffers by last viewing time.</td></tr>
<tr><td class="left"><code>s s</code></td><td class="left">Sort the buffers by size.</td></tr>
<tr><td class="left"><code>s m</code></td><td class="left">Sort the buffers by major mode.</td></tr>
</tbody>
</table>


<p>
(electric-buffer-list is also electrifying)
</p>
</div>

</div>

<div id="outline-container-1-6-2" class="outline-4">
<h4 id="sec-1-6-2">tabbar</h4>
<div class="outline-text-4" id="text-1-6-2">


<p>
This is a separate package. The default behavior is for buffers with
similar modes to appear together; can traverse these 'tabs' with
<code>(tabbar-backward)</code> and <code>(tabbar-forward)</code>. The keybindings for
navigating can be selected to mimic the Mac OS X keys for cycling
through tabs on Terminal (<code>Shift-Cmd-LeftArrow</code> and
<code>Shift-Cmd-RightArrow</code>).
</p>


<pre class="src src-elisp">(global-set-key (kbd <span style="font-style: italic;">"S-&lt;s-left&gt;"</span>) 'tabbar-backward) 
(global-set-key (kbd <span style="font-style: italic;">"S-&lt;s-right&gt;"</span>) 'tabbar-forward) 
</pre>


<p>
I no longer use it, in favor of <code>ido-mode</code> and <code>ibuffer</code>.
</p>
</div>
</div>

</div>

<div id="outline-container-1-7" class="outline-3">
<h3 id="sec-1-7">Opening buffers with the same name</h3>
<div class="outline-text-3" id="text-1-7">


<p>
Use uniquify:
</p>


<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">uniquify</span>)
</pre>


</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Managing windows and frames</h2>
<div class="outline-text-2" id="text-2">



</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">Full screen option</h3>
<div class="outline-text-3" id="text-2-1">


<p>
<a href="http://www.emacswiki.org/emacs/FullScreen">See Emacs Wiki</a>
</p>
</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">Window/frame commands</h3>
<div class="outline-text-3" id="text-2-2">



</div>

<div id="outline-container-2-2-1" class="outline-4">
<h4 id="sec-2-2-1">Basic</h4>
<div class="outline-text-4" id="text-2-2-1">

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">function</th><th scope="col" class="left">window</th><th scope="col" class="left">frame</th></tr>
</thead>
<tbody>
<tr><td class="left">make/create</td><td class="left"><code>C-x 2</code>, <code>C-x 3</code></td><td class="left"><code>C-x 5 2</code></td></tr>
<tr><td class="left">delete</td><td class="left"><code>C-x 0</code>, <code>C-x 4 0</code></td><td class="left"><code>C-x 5 0</code></td></tr>
<tr><td class="left">delete others</td><td class="left"><code>C-x 1</code></td><td class="left"><code>C-x 5 1</code></td></tr>
</tbody>
</table>


<p>
Details on window functions:
</p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keybinding</th><th scope="col" class="left">function</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>C-x 0</code></td><td class="left"><code>delete-window</code></td></tr>
<tr><td class="left"><code>C-x 4 0</code></td><td class="left"><code>kill-buffer-and-window</code></td></tr>
<tr><td class="left"><code>C-x 2</code></td><td class="left"><code>split-vertically</code></td></tr>
<tr><td class="left"><code>C-x 3</code></td><td class="left"><code>split-horizonally</code></td></tr>
</tbody>
</table>


</div>

</div>

<div id="outline-container-2-2-2" class="outline-4">
<h4 id="sec-2-2-2">Other window/frame commands</h4>
<div class="outline-text-4" id="text-2-2-2">


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">function</th><th scope="col" class="left"></th><th scope="col" class="left"><code>-other-window</code></th><th scope="col" class="left"><code>-other-frame</code></th></tr>
<tr><th scope="col" class="left"></th><th scope="col" class="left">postfix</th><th scope="col" class="left">(prefix: <code>C-x 4</code>)</th><th scope="col" class="left">(prefix: <code>C-x 5</code>)</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>find-file</code></td><td class="left"><code>f,C-f</code></td><td class="left"><code>C-x 4 C-f</code></td><td class="left"><code>C-x 5 C-f</code></td></tr>
<tr><td class="left"><code>find-file-read-only</code></td><td class="left"><code>r</code></td><td class="left"><code>C-x 4 r</code></td><td class="left"><code>C-x 5 r</code></td></tr>
<tr><td class="left"><code>dired</code></td><td class="left"><code>d</code></td><td class="left"><code>C-x 4 d</code></td><td class="left"><code>C-x 5 d</code></td></tr>
<tr><td class="left"><code>switch-to-buffer</code></td><td class="left"><code>b</code></td><td class="left"><code>C-x 4 b</code></td><td class="left"><code>C-x 5 b</code></td></tr>
<tr><td class="left"><code>display-buffer</code></td><td class="left"><code>C-o</code></td><td class="left"><code>C-x 4 C-o</code></td><td class="left"><code>C-x 5 C-o</code></td></tr>
<tr><td class="left"><code>clone-indirect-buffer</code></td><td class="left"><code>c</code></td><td class="left"><code>C-x 4 c</code></td><td class="left"><code>C-x 5 c</code></td></tr>
<tr><td class="left"><code>find-tag</code></td><td class="left"><code>.</code></td><td class="left"><code>C-x 4 .</code></td><td class="left"><code>C-x 5 .</code></td></tr>
</tbody>
</table>


</div>

</div>

<div id="outline-container-2-2-3" class="outline-4">
<h4 id="sec-2-2-3">Listing windows/frames</h4>
<div class="outline-text-4" id="text-2-2-3">


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">window/frame</th><th scope="col" class="left">function</th></tr>
</thead>
<tbody>
<tr><td class="left">window</td><td class="left"><code>window-list</code></td></tr>
<tr><td class="left">frame</td><td class="left"><code>frame-list</code></td></tr>
</tbody>
</table>


</div>

</div>

<div id="outline-container-2-2-4" class="outline-4">
<h4 id="sec-2-2-4">Switching among windows/frames</h4>
<div class="outline-text-4" id="text-2-2-4">


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keybinding</th><th scope="col" class="left">function</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>C-x o</code></td><td class="left"><code>other-window</code></td></tr>
<tr><td class="left"><code>C-x 5 o</code></td><td class="left"><code>other-frame</code></td></tr>
</tbody>
</table>


</div>
</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3">Packages to manage layouts</h3>
<div class="outline-text-3" id="text-2-3">


<p>
The following libraries are useful for preserving window layout within
frames (but not the buffers within windows). Note: if the frame is
deleted, configurations recorded by winner-mode and elscreen are lost.
</p>
</div>

<div id="outline-container-2-3-1" class="outline-4">
<h4 id="sec-2-3-1">elscreen</h4>
<div class="outline-text-4" id="text-2-3-1">


<p>
Rather than using multiple frames, Elscreen can be used to manage
simultaneous window configurations in a single (optionally tabbed)
frame.  <a href="elscreen-keys.html">Keybindings</a>
</p>
<p>
To use, install APEL (A Portable Emacs Library - download and type <code>make</code> to install in its own contained directory - other targets are available for make to install it in <code>/usr/</code> or <code>/usr/local/</code>) and elscreen.
</p>
<p>
After apel and elscreen are included in your load-path,
</p>


<pre class="src src-emacs-lisp">(load <span style="font-style: italic;">"elscreen"</span> <span style="font-style: italic;">"ElScreen"</span> t)
</pre>


<p>
Elscreen navigates to previous (explicitly-saved frames) context;
these are represented as visual 'tabs'.
</p>


<pre class="src src-elisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">F9 creates a new elscreen, shift-F9 kills it</span>
(global-set-key (kbd <span style="font-style: italic;">"&lt;f9&gt;"</span>    ) 'elscreen-create)
(global-set-key (kbd <span style="font-style: italic;">"S-&lt;f9&gt;"</span>  ) 'elscreen-kill)  
</pre>


<p>
I think there is a comparison of windows configurations between the return value of  <code>elscreen-get-window-configuration</code> and the prior value saved from <code>elscreen-set-window-configuration</code>. The latter function is not called when the screen is resized, so elscreen tries to redraw the frame (<code>redraw-frame</code>) with every keystroke.
</p>
<p>
There is probably a more elegant fix, but this just cycles through all the elscreen tabs so that the window-configuration is synced with the present frame and window geometries.
</p>


<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">elscreen-reset</span> ()
  <span style="font-style: italic;">"Cycles through screens so that window configurations are reset </span>
<span style="font-weight: bold; font-style: italic;">(</span><span style="font-style: italic;">prevents flashing from redraw-frame[?] after each keystroke)"</span>
  (interactive)
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">only happens when number of screens &gt; 1</span>
  (<span style="font-weight: bold;">when</span> (&gt; (elscreen-get-number-of-screens) 1)
    (<span style="font-weight: bold;">let*</span> ((screen-list (elscreen-get-screen-list))
           (current-screen (elscreen-get-current-screen))
           (screen-seq (append (delq current-screen screen-list)
                               (list current-screen))))
      (mapc 'elscreen-goto screen-seq))))

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">define keybinding</span>
(define-key elscreen-map <span style="font-style: italic;">"r"</span> 'elscreen-reset)
</pre>


<p>
S-&lt;s-up&gt; and S-&lt;s-down&gt; were deliberately chosen to be orthogonal to the keybindings assigned to <code>tabbar-forward</code> (S-&lt;s-left&gt;) and <code>tabbar-backward</code> (S-&lt;s-right&gt;). [no longer]
</p>
</div>

</div>

<div id="outline-container-2-3-2" class="outline-4">
<h4 id="sec-2-3-2">winner-mode</h4>
<div class="outline-text-4" id="text-2-3-2">


<p>
Winner-mode recalls (one of past 60) frames in current context. Very useful.
</p>


<pre class="src src-elisp">(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">winner</span>)
(winner-mode t) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">turn on the global minor mode</span>
(setq winner-dont-bind-my-keys t) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">default bindings conflict with org-mode</span>
                                  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">according to emacs-fu</span>
</pre>

<p>
The relevant keybindings are:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keybinding</th><th scope="col" class="left">elisp function</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>C-c &lt;left&gt;</code></td><td class="left"><code>winner-redo</code></td></tr>
<tr><td class="left"><code>C-c &lt;right&gt;</code></td><td class="left"><code>winner-undo</code></td></tr>
</tbody>
</table>


</div>

</div>

<div id="outline-container-2-3-3" class="outline-4">
<h4 id="sec-2-3-3">registers</h4>
<div class="outline-text-4" id="text-2-3-3">


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">keybinding</th><th scope="col" class="left">elisp function</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>C-x r w</code> <i>r</i></td><td class="left"><code>window-configuration-to-register</code></td></tr>
<tr><td class="left"><code>C-x r f</code> <i>r</i></td><td class="left"><code>frame-configuration-to-register</code></td></tr>
</tbody>
</table>


<p>
To recall one of these configuration, use <code>jump-to-register</code> (<code>C-x r j</code> <i>r</i>).
</p>
<p>
See section on <a href="../editing-text.html">registers</a> for more information.
</p></div>
</div>
</div>
</div>
</div>

<div id="postamble">
<hr>
Generated by Org-mode 7.8.11 with Emacs 24
</div>
</body>
</html>
